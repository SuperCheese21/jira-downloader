<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>JIRA Downloader!</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1>JIRA Downloader</h1>
    <!-- All of the Node.js APIs are available in this renderer process. -->

    <form name="downloader">

        <fieldset>

            <legend><strong>Enter server domain and credentials:</strong></legend>
            <p>Domain: <input type="text" name="domain"></input></p>
            <p>Username: <input type="text" name="username"></input></p>
            <p>Password: <input type="password" name="password"></input></p>

        </fieldset>

        <fieldset>

            <legend><strong>Enter JQL String here:</strong></legend>
            <textarea name="jql"></textarea>

        </fieldset>

        <br>

        <button type="submit">Download attachments</button>

    </form>
    
    <script>
        const form = document.forms.downloader;

        form.addEventListener('submit', (e) => {
            e.preventDefault();
            handleSubmission(form);
        });

        function handleSubmission(data) {
            const credentials = {
                domain: form.domain.value,
                username: form.username.value,
                password: form.password.value
            };
            const jql = form.jql.value;
            console.log(credentials);
            console.log(jql);
        }
    </script>

</body>

</html>
